{"version":3,"sources":["file:///E:/Cases/TestFrameWork/assets/Script/Client.ts"],"names":["Client","_decorator","ccclass","property","constructor","wsType","server","port","timeout","websocket","WebSocket","wsOnError","errorCallBack","onerror"],"mappings":";;;6BAKaA,M;;;;;;;;;AAJJC,MAAAA,U,OAAAA,U;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBF,U;;wBAGjBD,M,GAAN,MAAMA,MAAN,CAAY;AAEfI,QAAAA,WAAW,CAACC,MAAc,GAAG,IAAlB,EAAwBC,MAAc,GAAG,WAAzC,EAAsDC,IAAW,GAAG,IAApE,EAA0EC,OAAe,GAAG,KAA5F,EAAkG;AAAA;;AACzG,eAAKC,SAAL,GAAiB,IAAIC,SAAJ,CAAcL,MAAM,GAAC,KAAP,GAAeC,MAAf,GAAsB,GAAtB,GAA4BC,IAA1C,CAAjB;AACH,SAJc,CAMf;;AACA;AACJ;AACA;AACA;AACA;AACA;AACA;;;AACWI,QAAAA,SAAS,CAACC,aAAD,EAA0B;AACtC,eAAKH,SAAL,CAAeI,OAAf,GAAuB,MAAI;AACvBD,YAAAA,aAAa;AAChB,WAFD;AAGH;;AAlBc,O","sourcesContent":["\r\nimport { _decorator, Component, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n\r\nexport class Client{\r\n    public websocket : WebSocket;\r\n    constructor(wsType: string = \"ws\", server: string = \"127.0.0.1\", port:number = 8000, timeout: number = 30000){\r\n        this.websocket = new WebSocket(wsType+\"://\" + server+\":\" + port);\r\n    }\r\n\r\n    //TODO: change to decorator mode\r\n    /**\r\n     * Usage: \r\n     * @wsOnError\r\n     * triggerDebugMode(){...}\r\n     * \r\n     * the framework will automatically trigger the callback funtion once it was init by the scene.\r\n     */\r\n    public wsOnError(errorCallBack: Function) {\r\n        this.websocket.onerror=()=>{\r\n            errorCallBack;\r\n        };\r\n    }\r\n\r\n}\r\n"]}